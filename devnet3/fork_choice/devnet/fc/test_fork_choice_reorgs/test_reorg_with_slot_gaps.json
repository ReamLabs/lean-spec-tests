{
    "tests/consensus/devnet/fc/test_fork_choice_reorgs.py::test_reorg_with_slot_gaps[fork_Devnet][fork_Devnet-fork_choice_test]": {
        "network": "Devnet",
        "leanEnv": "prod",
        "anchorState": {
            "config": {
                "genesisTime": 0
            },
            "slot": 0,
            "latestBlockHeader": {
                "slot": 0,
                "proposerIndex": 0,
                "parentRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "stateRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "bodyRoot": "0xdba9671bac9513c9482f1416a53aabd2c6ce90d5a5f865ce5a55c775325c9136"
            },
            "latestJustified": {
                "root": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "slot": 0
            },
            "latestFinalized": {
                "root": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "slot": 0
            },
            "historicalBlockHashes": {
                "data": []
            },
            "justifiedSlots": {
                "data": []
            },
            "validators": {
                "data": [
                    {
                        "pubkey": "0x2c7aa65d0b45c01e3ba7155997d3001613775f1e1b85fd1ab65dcd72c65e105f2552c43a311a290af56fa0262dfebe10745ea837",
                        "index": 0
                    },
                    {
                        "pubkey": "0x67047f6113b87f6aea3a0e6c108a8d7dcc4b5e479dda2a1cb79397705340bd6227f1ea63ee39c91fff4599375b749425ae65922e",
                        "index": 1
                    },
                    {
                        "pubkey": "0x235cec31602fa34e41069453a2a56568d4c3ff62e31066659b90722e595e93255637eb0d42f98542e79c60031c2f05396bc74146",
                        "index": 2
                    },
                    {
                        "pubkey": "0xc7adde03d418565797f15a5b060ed4073d34856dd5941f77077e1d509952a674df084f0c5b57331e8af15364d8a29914f4a90178",
                        "index": 3
                    },
                    {
                        "pubkey": "0x3fa3003fd5c7ab54f1a034621281922447676905d22c850e0cca0d09148f7c029f7feb371349fe2e71930249e9bc2d5198c9903f",
                        "index": 4
                    },
                    {
                        "pubkey": "0x4f0dfc5ac80e1109e571b06936d7f85f8bd1bb3f3fc51838f54e1d176f1298593d415e24c0a6873775eacd7c2757ca5f1cb8f176",
                        "index": 5
                    },
                    {
                        "pubkey": "0x26900c5873d6a51ff988450e7b0ff41bc49a852d952e8e5f87880352c1d1293fde4f5d19e7cfe04e7e2c051c56cd3c309cc9ee66",
                        "index": 6
                    },
                    {
                        "pubkey": "0x9744b954b97d730126325117f225306f5c47ff737770bd5102356347fdaa4d0f1c67dc5f68877f523f47b81438fc780b54267315",
                        "index": 7
                    },
                    {
                        "pubkey": "0xb069f0457ffd7d2bc0c79910cf2aaf0b965fd464b0bea065415e7a2ee5c0235bed07d5663a03f32c3d357207307ca7213d248054",
                        "index": 8
                    },
                    {
                        "pubkey": "0x2f75025e7fc4695513dfbb627808e0117273f71b9e717e3aad33f0525677171d7934536b64666859fe9e746cc29cc60e0ef68b06",
                        "index": 9
                    }
                ]
            },
            "justificationsRoots": {
                "data": []
            },
            "justificationsValidators": {
                "data": []
            }
        },
        "anchorBlock": {
            "slot": 0,
            "proposerIndex": 0,
            "parentRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
            "stateRoot": "0x6461e62d3e84e4944259f334a13ae98001c62090659a92bc1aeb8a24410e1612",
            "body": {
                "attestations": {
                    "data": []
                }
            }
        },
        "steps": [
            {
                "valid": true,
                "checks": {
                    "headSlot": 1,
                    "headRoot": "0x7a9146c3904e5e0f2faaa6879481bdee712f5cc8fb4d4358fe948b71c7a0d1f5",
                    "headRootLabel": "base"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 1,
                        "proposerIndex": 1,
                        "parentRoot": "0xdec18183a93d74460f4fc68bc779b7c6b19b691df8017b0840b43d2a10a5f1bd",
                        "stateRoot": "0x77228c29372a11c881ee768446db048d7da2a03818285890be8f636a3ac02458",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 1,
                        "data": {
                            "slot": 1,
                            "head": {
                                "root": "0x7a9146c3904e5e0f2faaa6879481bdee712f5cc8fb4d4358fe948b71c7a0d1f5",
                                "slot": 1
                            },
                            "target": {
                                "root": "0x7a9146c3904e5e0f2faaa6879481bdee712f5cc8fb4d4358fe948b71c7a0d1f5",
                                "slot": 1
                            },
                            "source": {
                                "root": "0xdec18183a93d74460f4fc68bc779b7c6b19b691df8017b0840b43d2a10a5f1bd",
                                "slot": 0
                            }
                        }
                    },
                    "blockRootLabel": "base"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 3,
                    "headRoot": "0x4545bfc0e38d150a0542c149f32474b4ddbb00417b44380bb0533214ceade2e9",
                    "headRootLabel": "fork_a_3"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 3,
                        "proposerIndex": 3,
                        "parentRoot": "0x7a9146c3904e5e0f2faaa6879481bdee712f5cc8fb4d4358fe948b71c7a0d1f5",
                        "stateRoot": "0x61ccb21229f0c49e52ab410258c1b9aff339af8ac535c409cf54cc476c7bbfd3",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 3,
                        "data": {
                            "slot": 3,
                            "head": {
                                "root": "0x4545bfc0e38d150a0542c149f32474b4ddbb00417b44380bb0533214ceade2e9",
                                "slot": 3
                            },
                            "target": {
                                "root": "0x4545bfc0e38d150a0542c149f32474b4ddbb00417b44380bb0533214ceade2e9",
                                "slot": 3
                            },
                            "source": {
                                "root": "0x7a9146c3904e5e0f2faaa6879481bdee712f5cc8fb4d4358fe948b71c7a0d1f5",
                                "slot": 1
                            }
                        }
                    },
                    "blockRootLabel": "fork_a_3"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 3,
                    "headRoot": "0x4545bfc0e38d150a0542c149f32474b4ddbb00417b44380bb0533214ceade2e9",
                    "headRootLabel": "fork_a_3"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 4,
                        "proposerIndex": 4,
                        "parentRoot": "0x7a9146c3904e5e0f2faaa6879481bdee712f5cc8fb4d4358fe948b71c7a0d1f5",
                        "stateRoot": "0x85f551514aff9134023f5b0f090e6a228033e01c66785d9fef3e610b2ffd2c3c",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 4,
                        "data": {
                            "slot": 4,
                            "head": {
                                "root": "0x6317a9f137206d3455e9e14fc7cfc36854b63b5c697d59298ab7bdf1a5aab4d9",
                                "slot": 4
                            },
                            "target": {
                                "root": "0x6317a9f137206d3455e9e14fc7cfc36854b63b5c697d59298ab7bdf1a5aab4d9",
                                "slot": 4
                            },
                            "source": {
                                "root": "0x7a9146c3904e5e0f2faaa6879481bdee712f5cc8fb4d4358fe948b71c7a0d1f5",
                                "slot": 1
                            }
                        }
                    },
                    "blockRootLabel": "fork_b_4"
                }
            },
            {
                "valid": true,
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 7,
                        "proposerIndex": 7,
                        "parentRoot": "0x4545bfc0e38d150a0542c149f32474b4ddbb00417b44380bb0533214ceade2e9",
                        "stateRoot": "0xc190fa6a386959fc429655268e6dc9d689e8c445316da8435cf34c660545ec77",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 7,
                        "data": {
                            "slot": 7,
                            "head": {
                                "root": "0xfaba9d75a6ac5f160f96db463cbd5b18d46ef4090100dc51abdf62fe7548d573",
                                "slot": 7
                            },
                            "target": {
                                "root": "0xfaba9d75a6ac5f160f96db463cbd5b18d46ef4090100dc51abdf62fe7548d573",
                                "slot": 7
                            },
                            "source": {
                                "root": "0x4545bfc0e38d150a0542c149f32474b4ddbb00417b44380bb0533214ceade2e9",
                                "slot": 3
                            }
                        }
                    },
                    "blockRootLabel": "fork_a_7"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 7,
                    "headRoot": "0xfaba9d75a6ac5f160f96db463cbd5b18d46ef4090100dc51abdf62fe7548d573",
                    "headRootLabel": "fork_a_7"
                },
                "stepType": "tick",
                "time": 39
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 7,
                    "headRoot": "0xfaba9d75a6ac5f160f96db463cbd5b18d46ef4090100dc51abdf62fe7548d573",
                    "headRootLabel": "fork_a_7"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 8,
                        "proposerIndex": 8,
                        "parentRoot": "0x6317a9f137206d3455e9e14fc7cfc36854b63b5c697d59298ab7bdf1a5aab4d9",
                        "stateRoot": "0x5d0556071405aa9dccde2bb4d8a694b107eda06846fac5bbd8c1b924be7bacc3",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 8,
                        "data": {
                            "slot": 8,
                            "head": {
                                "root": "0xcf5ae442a2d3b023c3b3df5bcc6a1e7d0c43c9d4cc3161b52cd0a252540455a6",
                                "slot": 8
                            },
                            "target": {
                                "root": "0xcf5ae442a2d3b023c3b3df5bcc6a1e7d0c43c9d4cc3161b52cd0a252540455a6",
                                "slot": 8
                            },
                            "source": {
                                "root": "0x6317a9f137206d3455e9e14fc7cfc36854b63b5c697d59298ab7bdf1a5aab4d9",
                                "slot": 4
                            }
                        }
                    },
                    "blockRootLabel": "fork_b_8"
                }
            },
            {
                "valid": true,
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 9,
                        "proposerIndex": 9,
                        "parentRoot": "0xcf5ae442a2d3b023c3b3df5bcc6a1e7d0c43c9d4cc3161b52cd0a252540455a6",
                        "stateRoot": "0x421b3b35d6eab841ff9cdb573be9077c15f7eb01033116cec5d6b55c6f456f0a",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 9,
                        "data": {
                            "slot": 9,
                            "head": {
                                "root": "0x258883d9cb255dcb8974b2f9fd208fc8ebaba25670e419c5656fa7dd85f9bbcf",
                                "slot": 9
                            },
                            "target": {
                                "root": "0x258883d9cb255dcb8974b2f9fd208fc8ebaba25670e419c5656fa7dd85f9bbcf",
                                "slot": 9
                            },
                            "source": {
                                "root": "0xcf5ae442a2d3b023c3b3df5bcc6a1e7d0c43c9d4cc3161b52cd0a252540455a6",
                                "slot": 8
                            }
                        }
                    },
                    "blockRootLabel": "fork_b_9"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 9,
                    "headRoot": "0x258883d9cb255dcb8974b2f9fd208fc8ebaba25670e419c5656fa7dd85f9bbcf",
                    "headRootLabel": "fork_b_9"
                },
                "stepType": "tick",
                "time": 49
            }
        ],
        "maxSlot": 9,
        "_info": {
            "hash": "0x9556c8fccfb246c43bea9fbb694d1299ae54fe676f2e26951fed93b284735398",
            "comment": "`leanSpec` generated test",
            "testId": "tests/consensus/devnet/fc/test_fork_choice_reorgs.py::test_reorg_with_slot_gaps[fork_Devnet]",
            "description": "Reorg occurs correctly even with missed slots in the chain.\n\nScenario\n--------\n- Slot 1: Base\n- Slot 3: Fork A (skipping slot 2)\n- Slot 4: Fork B (competing)\n- Slot 7: Fork A extended (skipping slots 4-6)\n- Slot 8: Fork B extended (skipping slots 5-7)\n- Slot 9: Fork B extended again \u2192 triggers reorg\n\nMissed Slots: 2, 5, 6 (no blocks produced)\n\nExpected Behavior\n-----------------\n1. Sparse block production doesn't affect fork choice logic\n2. Weight calculation only considers actual blocks\n3. Reorg happens based on block count, not slot numbers\n4. Fork B with 3 blocks beats fork A with 2 blocks\n\nReorg Details:\n    - **Depth**: 2 blocks (fork_a slots 3, 7)\n    - **Trigger**: Progressive building despite gaps\n    - **Weight**: 3 proposer attestations vs 2\n\nWhy This Matters\n----------------\nMissed slots are extremely common in production:\n- Offline validators (expected ~1% downtime)\n- Network issues preventing timely block propagation\n- Intentional skips during network congestion\n\nFork choice must remain robust with sparse block production:\n- Gaps don't create bias toward any fork\n- Only actual blocks contribute weight\n- Reorg logic works identically whether slots are consecutive or sparse\n\nThis test ensures the algorithm works correctly in realistic network\nconditions where perfect block production is impossible.",
            "fixtureFormat": "fork_choice_test"
        }
    }
}