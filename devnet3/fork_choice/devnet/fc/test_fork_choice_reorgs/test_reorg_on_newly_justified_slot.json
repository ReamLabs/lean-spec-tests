{
    "tests/consensus/devnet/fc/test_fork_choice_reorgs.py::test_reorg_on_newly_justified_slot[fork_Devnet][fork_Devnet-fork_choice_test]": {
        "network": "Devnet",
        "leanEnv": "prod",
        "anchorState": {
            "config": {
                "genesisTime": 0
            },
            "slot": 0,
            "latestBlockHeader": {
                "slot": 0,
                "proposerIndex": 0,
                "parentRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "stateRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "bodyRoot": "0xdba9671bac9513c9482f1416a53aabd2c6ce90d5a5f865ce5a55c775325c9136"
            },
            "latestJustified": {
                "root": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "slot": 0
            },
            "latestFinalized": {
                "root": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "slot": 0
            },
            "historicalBlockHashes": {
                "data": []
            },
            "justifiedSlots": {
                "data": []
            },
            "validators": {
                "data": [
                    {
                        "pubkey": "0x2c7aa65d0b45c01e3ba7155997d3001613775f1e1b85fd1ab65dcd72c65e105f2552c43a311a290af56fa0262dfebe10745ea837",
                        "index": 0
                    },
                    {
                        "pubkey": "0x67047f6113b87f6aea3a0e6c108a8d7dcc4b5e479dda2a1cb79397705340bd6227f1ea63ee39c91fff4599375b749425ae65922e",
                        "index": 1
                    },
                    {
                        "pubkey": "0x235cec31602fa34e41069453a2a56568d4c3ff62e31066659b90722e595e93255637eb0d42f98542e79c60031c2f05396bc74146",
                        "index": 2
                    },
                    {
                        "pubkey": "0xc7adde03d418565797f15a5b060ed4073d34856dd5941f77077e1d509952a674df084f0c5b57331e8af15364d8a29914f4a90178",
                        "index": 3
                    },
                    {
                        "pubkey": "0x3fa3003fd5c7ab54f1a034621281922447676905d22c850e0cca0d09148f7c029f7feb371349fe2e71930249e9bc2d5198c9903f",
                        "index": 4
                    },
                    {
                        "pubkey": "0x4f0dfc5ac80e1109e571b06936d7f85f8bd1bb3f3fc51838f54e1d176f1298593d415e24c0a6873775eacd7c2757ca5f1cb8f176",
                        "index": 5
                    },
                    {
                        "pubkey": "0x26900c5873d6a51ff988450e7b0ff41bc49a852d952e8e5f87880352c1d1293fde4f5d19e7cfe04e7e2c051c56cd3c309cc9ee66",
                        "index": 6
                    },
                    {
                        "pubkey": "0x9744b954b97d730126325117f225306f5c47ff737770bd5102356347fdaa4d0f1c67dc5f68877f523f47b81438fc780b54267315",
                        "index": 7
                    },
                    {
                        "pubkey": "0xb069f0457ffd7d2bc0c79910cf2aaf0b965fd464b0bea065415e7a2ee5c0235bed07d5663a03f32c3d357207307ca7213d248054",
                        "index": 8
                    }
                ]
            },
            "justificationsRoots": {
                "data": []
            },
            "justificationsValidators": {
                "data": []
            }
        },
        "anchorBlock": {
            "slot": 0,
            "proposerIndex": 0,
            "parentRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
            "stateRoot": "0xced8f337974ea3dc1a918fc1dadda50d2cd629f74c4f5e1632cba3557c4ee50b",
            "body": {
                "attestations": {
                    "data": []
                }
            }
        },
        "steps": [
            {
                "valid": true,
                "checks": {
                    "headSlot": 1,
                    "headRoot": "0x4f3d8ab9e906b70ecf5be88725455ab6321ed086301178eaeecf82eabb42671c",
                    "headRootLabel": "base"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 1,
                        "proposerIndex": 1,
                        "parentRoot": "0xc3c70f5645f825fcae648cfa73c464ba2c205a725ec12c0b10a47b397b622a4d",
                        "stateRoot": "0x1d88bf49c2eaf9567f2b7979199598096c8e4f65c78bcb112a9c4fe67d879842",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 1,
                        "data": {
                            "slot": 1,
                            "head": {
                                "root": "0x4f3d8ab9e906b70ecf5be88725455ab6321ed086301178eaeecf82eabb42671c",
                                "slot": 1
                            },
                            "target": {
                                "root": "0x4f3d8ab9e906b70ecf5be88725455ab6321ed086301178eaeecf82eabb42671c",
                                "slot": 1
                            },
                            "source": {
                                "root": "0xc3c70f5645f825fcae648cfa73c464ba2c205a725ec12c0b10a47b397b622a4d",
                                "slot": 0
                            }
                        }
                    },
                    "blockRootLabel": "base"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 2,
                    "headRoot": "0x7dff51bcd788abebf81e6cc2fe115a718fe06220bec2759fca99c4234f87876f",
                    "headRootLabel": "fork_a_1"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 2,
                        "proposerIndex": 2,
                        "parentRoot": "0x4f3d8ab9e906b70ecf5be88725455ab6321ed086301178eaeecf82eabb42671c",
                        "stateRoot": "0x9251246b638ebcad9441456f86d4a01401d1669de51b9aa9aff404d09c7c3187",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 2,
                        "data": {
                            "slot": 2,
                            "head": {
                                "root": "0x7dff51bcd788abebf81e6cc2fe115a718fe06220bec2759fca99c4234f87876f",
                                "slot": 2
                            },
                            "target": {
                                "root": "0x7dff51bcd788abebf81e6cc2fe115a718fe06220bec2759fca99c4234f87876f",
                                "slot": 2
                            },
                            "source": {
                                "root": "0x4f3d8ab9e906b70ecf5be88725455ab6321ed086301178eaeecf82eabb42671c",
                                "slot": 1
                            }
                        }
                    },
                    "blockRootLabel": "fork_a_1"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 3,
                    "headRoot": "0x4231dc11e340635c6242d9d76e68cf87c93fdd41ca3e60452330601904aaa918",
                    "headRootLabel": "fork_a_2"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 3,
                        "proposerIndex": 3,
                        "parentRoot": "0x7dff51bcd788abebf81e6cc2fe115a718fe06220bec2759fca99c4234f87876f",
                        "stateRoot": "0xc56b3b35761ebcb87cdc74a322cf32ab4c1cd2287d3d8acfd2932184da09dc58",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 3,
                        "data": {
                            "slot": 3,
                            "head": {
                                "root": "0x4231dc11e340635c6242d9d76e68cf87c93fdd41ca3e60452330601904aaa918",
                                "slot": 3
                            },
                            "target": {
                                "root": "0x4231dc11e340635c6242d9d76e68cf87c93fdd41ca3e60452330601904aaa918",
                                "slot": 3
                            },
                            "source": {
                                "root": "0x7dff51bcd788abebf81e6cc2fe115a718fe06220bec2759fca99c4234f87876f",
                                "slot": 2
                            }
                        }
                    },
                    "blockRootLabel": "fork_a_2"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 4,
                    "headRoot": "0x64e28a18313356bd15ec37dd80a4129a7612a67f323c978f12e0422c762d2818",
                    "headRootLabel": "fork_a_3"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 4,
                        "proposerIndex": 4,
                        "parentRoot": "0x4231dc11e340635c6242d9d76e68cf87c93fdd41ca3e60452330601904aaa918",
                        "stateRoot": "0x4721466ce4bcb44da2a6bb3a1f7cf57c1ff4acc18e81d54d27b18a22e1402064",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 4,
                        "data": {
                            "slot": 4,
                            "head": {
                                "root": "0x64e28a18313356bd15ec37dd80a4129a7612a67f323c978f12e0422c762d2818",
                                "slot": 4
                            },
                            "target": {
                                "root": "0x64e28a18313356bd15ec37dd80a4129a7612a67f323c978f12e0422c762d2818",
                                "slot": 4
                            },
                            "source": {
                                "root": "0x4231dc11e340635c6242d9d76e68cf87c93fdd41ca3e60452330601904aaa918",
                                "slot": 3
                            }
                        }
                    },
                    "blockRootLabel": "fork_a_3"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 4,
                    "headRoot": "0x64e28a18313356bd15ec37dd80a4129a7612a67f323c978f12e0422c762d2818",
                    "headRootLabel": "fork_a_3"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 5,
                        "proposerIndex": 5,
                        "parentRoot": "0x4f3d8ab9e906b70ecf5be88725455ab6321ed086301178eaeecf82eabb42671c",
                        "stateRoot": "0x1e2b8cbe407d036529218f0374e8ae424ff8ae927bdf90386ff4576b8b401ff3",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 5,
                        "data": {
                            "slot": 5,
                            "head": {
                                "root": "0x505123b2517ef92df5448175464d050a64b81a497c8dd0cda3864ca9ff52a41c",
                                "slot": 5
                            },
                            "target": {
                                "root": "0x505123b2517ef92df5448175464d050a64b81a497c8dd0cda3864ca9ff52a41c",
                                "slot": 5
                            },
                            "source": {
                                "root": "0x4f3d8ab9e906b70ecf5be88725455ab6321ed086301178eaeecf82eabb42671c",
                                "slot": 1
                            }
                        }
                    },
                    "blockRootLabel": "fork_b_1"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 6,
                    "headRoot": "0x86025bbb95006da908cee2a1d3dc75c691b8a688083cc273edd4cbc65a05e10c",
                    "headRootLabel": "fork_b_2",
                    "latestJustifiedSlot": 5,
                    "latestJustifiedRoot": "0x505123b2517ef92df5448175464d050a64b81a497c8dd0cda3864ca9ff52a41c",
                    "latestJustifiedRootLabel": "fork_b_1"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 6,
                        "proposerIndex": 6,
                        "parentRoot": "0x505123b2517ef92df5448175464d050a64b81a497c8dd0cda3864ca9ff52a41c",
                        "stateRoot": "0x54295e311c977f019f414c98d59e497674de83ef6d0de2e06800c8260cbfd3c9",
                        "body": {
                            "attestations": {
                                "data": [
                                    {
                                        "aggregationBits": {
                                            "data": [
                                                true,
                                                true,
                                                false,
                                                false,
                                                false,
                                                true,
                                                true,
                                                true,
                                                true
                                            ]
                                        },
                                        "data": {
                                            "slot": 5,
                                            "head": {
                                                "root": "0x505123b2517ef92df5448175464d050a64b81a497c8dd0cda3864ca9ff52a41c",
                                                "slot": 5
                                            },
                                            "target": {
                                                "root": "0x505123b2517ef92df5448175464d050a64b81a497c8dd0cda3864ca9ff52a41c",
                                                "slot": 5
                                            },
                                            "source": {
                                                "root": "0xc3c70f5645f825fcae648cfa73c464ba2c205a725ec12c0b10a47b397b622a4d",
                                                "slot": 0
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 6,
                        "data": {
                            "slot": 6,
                            "head": {
                                "root": "0x86025bbb95006da908cee2a1d3dc75c691b8a688083cc273edd4cbc65a05e10c",
                                "slot": 6
                            },
                            "target": {
                                "root": "0x86025bbb95006da908cee2a1d3dc75c691b8a688083cc273edd4cbc65a05e10c",
                                "slot": 6
                            },
                            "source": {
                                "root": "0x505123b2517ef92df5448175464d050a64b81a497c8dd0cda3864ca9ff52a41c",
                                "slot": 5
                            }
                        }
                    },
                    "blockRootLabel": "fork_b_2"
                }
            }
        ],
        "maxSlot": 6,
        "_info": {
            "hash": "0x66b6b80a4e57f934e8c1a3c738abb1a3af78e66b933d7856eb9c4cc7eac3d160",
            "comment": "`leanSpec` generated test",
            "testId": "tests/consensus/devnet/fc/test_fork_choice_reorgs.py::test_reorg_on_newly_justified_slot[fork_Devnet]",
            "description": "Reorg occurs correctly when forks cross justification boundaries.\n\nScenario\n--------\nTwo forks compete. Fork A is heavier and longer, but Fork B manages to\nbecome justified. Fork choice must switch to the justified fork regardless\nof weight/length.\n\n- Slot 1: Base\n- Slots 2-4: Fork A extends (becomes head with depth 3)\n- Slot 5: Fork B appears (descending from Base, skipping slots 2-4)\n- Slot 6: Fork B extends. This block contains enough attestations to\n          justify Fork B at Slot 5.\n\nExpected Behavior\n-----------------\n1. Fork A takes the lead initially (Slots 2-4) as the heaviest chain.\n2. Fork B appears at Slot 5 but is initially lighter.\n3. At Slot 6, the new block includes attestations that justify Fork B at Slot 5.\n4. The justified checkpoint updates to Slot 5 (fork_b_1).\n5. Fork A is immediately discarded because it does not descend from the new\n   justified checkpoint (Fork A is on a branch from Slot 1).\n6. Fork B becomes the canonical head.\n\nWhy This Matters\n----------------\nJustification is a critical safety mechanism:\n- Limits which blocks can be attested to\n- Ensures fork choice respects finality constraints\n\nThis test ensures:\n- Reorgs respect justification boundaries\n- Fork choice works correctly across justifiable slots\n- Safety guarantees maintained during reorgs",
            "fixtureFormat": "fork_choice_test"
        }
    }
}